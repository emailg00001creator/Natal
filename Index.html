<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CartÃ£o de Natal AR - Imersivo</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <div id="ui" style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 999;">
        <button id="playButton" style="padding: 15px 30px; border-radius: 25px; border: none; background: #e74c3c; color: white; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3);">
            ðŸŽ„ Ativar Som de Natal
        </button>
    </div>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      
      <a-assets>
        <audio id="natalSom" src="https://cdn.pixabay.com/download/audio/2021/11/24/audio_333857e3f4.mp3?filename=jingle-bells-country-1212.mp3" preload="auto"></audio>
      </a-assets>

      <a-marker preset="hiro">
        <a-entity position="0 2.25 -15" particle-system="color: #FFFFFF; particleCount: 1000; size: 0.5"></a-entity>

        <a-cylinder position="0 0.1 0" radius="0.1" height="0.3" color="#5C4033"></a-cylinder>
        <a-cone position="0 0.6 0" radius-bottom="0.6" radius-top="0" height="0.8" color="#228B22"></a-cone>
        <a-cone position="0 1.0 0" radius-bottom="0.45" radius-top="0" height="0.6" color="#228B22"></a-cone>
        <a-cone position="0 1.3 0" radius-bottom="0.3" radius-top="0" height="0.4" color="#228B22"></a-cone>
        
        <a-sphere position="0 1.6 0" radius="0.08" color="#FFD700" 
                  animation="property: scale; to: 1.3 1.3 1.3; dir: alternate; dur: 800; loop: true">
        </a-sphere>

        <a-sphere position="0.3 0.5 0.3" radius="0.04" color="#ff0000" animation="property: material.opacity; from: 1; to: 0.2; dir: alternate; dur: 500; loop: true"></a-sphere>
        <a-sphere position="-0.3 0.8 -0.2" radius="0.04" color="#0000ff" animation="property: material.opacity; from: 1; to: 0.2; dir: alternate; dur: 700; loop: true"></a-sphere>

        <a-text value="FELIZ NATAL!" position="-0.9 2.2 0" color="#e74c3c" width="5" font="https://cdn.aframe.io/fonts/Monoid.fnt" align="center"></a-text>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // LÃ³gica para tocar a mÃºsica ao clicar no botÃ£o
      const btn = document.getElementById('playButton');
      const audio = document.getElementById('natalSom');
      const ui = document.getElementById('ui');

      btn.addEventListener('click', () => {
        audio.play();
        ui.style.display = 'none'; // Esconde o botÃ£o apÃ³s clicar
      });
    </script>
  </body>
</html>
